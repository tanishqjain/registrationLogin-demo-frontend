<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>

    <title>Electrolux OIDC logout Page</title>
	
	<script type="text/javascript">

		var apiKey, returnURL, language = "",returladd;
		// Parse the URL parameters into urlParamsArr
		
		const queryString = window.location.search;
    	const urlSearchParamsObj = new URLSearchParams(queryString);
		
		if (urlSearchParamsObj && urlSearchParamsObj.has('language')) {
      		language = urlSearchParamsObj.get('language');
    	}
		if (urlSearchParamsObj && urlSearchParamsObj.has('apiKey')) {
      		apiKey = urlSearchParamsObj.get('apiKey');
    	}
		if (urlSearchParamsObj && urlSearchParamsObj.has('returnURL')) {
      		returnURL = urlSearchParamsObj.get('returnURL');
    	}		
		/////////////////////////////////////////////////////////////////////////////////


		function GigyaLoadFunctions() {
			
			gigya.accounts.logout({
			
				"callback": function (res) {
			
					if (res.errorCode === 0 ) {
						if(returnURL.includes("?"))
						{
							returladd = "&logoutStatus=true";
						}
						else{
							returladd = "?logoutStatus=true";
						}
						window.location.href= returnURL + returladd;
			
					}
			
				}
			
			});
		
		}
		var onGigyaServiceReady = function () {
			GigyaLoadFunctions();
		}

		// Include Gigya JS WebSDK
		addJs(apiKey);
		
		// Add Gigya Web SDK
		function addJs(spApiKey) {
			
			var s1 = document.createElement("script");
			
			s1.type = "text/javascript";
			
			s1.async = true;
			
			s1.src = "https://cdc.myaccount.electroluxgroup.eu/JS/gigya.js?apiKey=" + spApiKey ;
			
			s1.innerHTML = JSON.stringify({
				storageDomainOverride: "cdc.myaccount.electroluxgroup.eu"
			});

			document.head.appendChild(s1);
		}
    
	</script>
  
  </head>
  
  <body><div id="hybris" style="margin-left:25%; margin-top:2%;"></div></body>

</html>